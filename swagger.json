{
	"basePath": "/api/v1",
	"consumes": [
		"application/json"
	],
	"definitions": {
		"User": {
			"properties": {
				"id": {
					"type": "integer",
					"format": "int32"
				},
				"login": {
					"type": "string"
				},
				"password": {
					"type": "string",
					"x-nullable": true
				},
				"name": {
					"type": "string"
				},
				"surname": {
					"type": "string",
					"x-nullable": true
				},
				"creationDate": {
					"type": "string",
					"format": "date-time",
					"x-nullable": true
				}
			},
			"required": [
				"id",
				"login",
				"name"
			],
			"type": "object",
			"additionalProperties": false
		},
		"ILoginResult": {
			"properties": {
				"user": {
					"$ref": "#/definitions/User"
				},
				"accessToken": {
					"type": "string"
				},
				"refreshToken": {
					"type": "string"
				}
			},
			"required": [
				"user",
				"accessToken",
				"refreshToken"
			],
			"type": "object",
			"additionalProperties": false
		},
		"Errors": {
			"enum": [
				1,
				2,
				3,
				4,
				5,
				6
			],
			"type": "integer"
		},
		"IError": {
			"properties": {
				"code": {
					"$ref": "#/definitions/Errors"
				},
				"message": {
					"type": "string",
					"x-nullable": true
				}
			},
			"required": [
				"code"
			],
			"type": "object",
			"additionalProperties": false
		},
		"ILoginRequestBody": {
			"properties": {
				"login": {
					"type": "string"
				},
				"password": {
					"type": "string"
				}
			},
			"required": [
				"login",
				"password"
			],
			"type": "object",
			"additionalProperties": false
		},
		"IRegisterRequestBody": {
			"properties": {
				"login": {
					"type": "string"
				},
				"password": {
					"type": "string"
				}
			},
			"required": [
				"login",
				"password"
			],
			"type": "object",
			"additionalProperties": false
		},
		"Client": {
			"properties": {
				"id": {
					"type": "integer",
					"format": "int32"
				},
				"name": {
					"type": "string"
				},
				"creationDate": {
					"type": "string",
					"format": "date-time",
					"x-nullable": true
				},
				"contracts": {
					"items": {
						"$ref": "#/definitions/Contract"
					},
					"type": "array"
				}
			},
			"required": [
				"id",
				"name",
				"contracts"
			],
			"type": "object",
			"additionalProperties": false
		},
		"Contract": {
			"properties": {
				"id": {
					"type": "integer",
					"format": "int32"
				},
				"client": {
					"$ref": "#/definitions/Client"
				},
				"name": {
					"type": "string"
				},
				"tasks": {
					"items": {
						"$ref": "#/definitions/Task"
					},
					"type": "array"
				},
				"creationDate": {
					"type": "string",
					"format": "date-time",
					"x-nullable": true
				}
			},
			"required": [
				"id",
				"client",
				"name",
				"tasks"
			],
			"type": "object",
			"additionalProperties": false
		},
		"Task": {
			"properties": {
				"id": {
					"type": "integer",
					"format": "int32"
				},
				"contract": {
					"$ref": "#/definitions/Contract"
				},
				"name": {
					"type": "string"
				},
				"creationDate": {
					"type": "string",
					"format": "date-time",
					"x-nullable": true
				}
			},
			"required": [
				"id",
				"contract",
				"name"
			],
			"type": "object",
			"additionalProperties": false
		},
		"IClientCreateRequestBody": {
			"properties": {
				"name": {
					"type": "string"
				}
			},
			"required": [
				"name"
			],
			"type": "object",
			"additionalProperties": false
		},
		"IContractCreateRequestBody": {
			"properties": {
				"name": {
					"type": "string"
				},
				"clientId": {
					"type": "integer",
					"format": "int32"
				}
			},
			"required": [
				"name",
				"clientId"
			],
			"type": "object",
			"additionalProperties": false
		}
	},
	"info": {
		"title": "customerinteractionsystem",
		"version": "1.0.0",
		"description": "System for business, helps to control relations with customers and customer workflow",
		"license": {
			"name": "ISC"
		}
	},
	"paths": {
		"/auth/login": {
			"post": {
				"operationId": "Login",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "object"
						}
					},
					"202": {
						"description": "Аутентификация успешна",
						"schema": {
							"$ref": "#/definitions/ILoginResult"
						}
					},
					"400": {
						"description": "Ошибка при аутентификации",
						"schema": {
							"$ref": "#/definitions/IError"
						}
					}
				},
				"tags": [
					"Auth"
				],
				"security": [],
				"parameters": [
					{
						"in": "body",
						"name": "requestBody",
						"required": true,
						"schema": {
							"$ref": "#/definitions/ILoginRequestBody"
						}
					}
				]
			}
		},
		"/auth/logout": {
			"post": {
				"operationId": "Logout",
				"produces": [
					"application/json"
				],
				"responses": {
					"204": {
						"description": "No content"
					}
				},
				"tags": [
					"Auth"
				],
				"security": [],
				"parameters": []
			}
		},
		"/auth/register": {
			"post": {
				"operationId": "Register",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "object"
						}
					},
					"400": {
						"description": "Ошибка при регистрации",
						"schema": {
							"$ref": "#/definitions/IError"
						}
					}
				},
				"tags": [
					"Auth"
				],
				"security": [],
				"parameters": [
					{
						"in": "body",
						"name": "requestBody",
						"required": true,
						"schema": {
							"$ref": "#/definitions/IRegisterRequestBody"
						}
					}
				]
			}
		},
		"/clients": {
			"get": {
				"operationId": "GetByIdOrAll",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "object"
						}
					}
				},
				"tags": [
					"Clients"
				],
				"security": [
					{
						"JWT": []
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "id",
						"required": false,
						"format": "int32",
						"type": "integer"
					}
				]
			},
			"post": {
				"operationId": "Insert",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "object"
						}
					},
					"406": {
						"description": "Ошибка добавление нового клиента в базу",
						"schema": {
							"$ref": "#/definitions/IError"
						}
					}
				},
				"tags": [
					"Clients"
				],
				"security": [
					{
						"JWT": []
					}
				],
				"parameters": [
					{
						"in": "body",
						"name": "requestBody",
						"required": true,
						"schema": {
							"$ref": "#/definitions/IClientCreateRequestBody"
						}
					}
				]
			}
		},
		"/contracts": {
			"get": {
				"operationId": "GetByClientIdOrAll",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"items": {
								"$ref": "#/definitions/Contract"
							},
							"type": "array"
						}
					}
				},
				"tags": [
					"Contracts"
				],
				"security": [],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": false,
						"format": "int32",
						"type": "integer"
					}
				]
			},
			"post": {
				"operationId": "InsertContract",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "object"
						}
					},
					"406": {
						"description": "Ошибка добавление нового договора в базу",
						"schema": {
							"$ref": "#/definitions/IError"
						}
					}
				},
				"tags": [
					"Contracts"
				],
				"security": [],
				"parameters": [
					{
						"in": "body",
						"name": "requestBody",
						"required": true,
						"schema": {
							"$ref": "#/definitions/IContractCreateRequestBody"
						}
					}
				]
			}
		},
		"/tasks": {
			"get": {
				"operationId": "GetAll",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"items": {
								"$ref": "#/definitions/Task"
							},
							"type": "array"
						}
					}
				},
				"tags": [
					"Tasks"
				],
				"security": [],
				"parameters": [
					{
						"in": "query",
						"name": "contractId",
						"required": false,
						"format": "int32",
						"type": "integer"
					}
				]
			}
		},
		"/users": {
			"get": {
				"operationId": "GetAll",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"items": {
								"$ref": "#/definitions/User"
							},
							"type": "array"
						}
					}
				},
				"tags": [
					"Users"
				],
				"security": [],
				"parameters": []
			}
		}
	},
	"produces": [
		"application/json"
	],
	"swagger": "2.0",
	"securityDefinitions": {
		"api_key": {
			"type": "apiKey",
			"name": "access_token",
			"in": "query"
		},
		"tsoa_auth": {
			"type": "oauth2",
			"authorizationUrl": "http://swagger.io/api/oauth/dialog",
			"flow": "implicit",
			"scopes": {
				"write:pets": "modify things",
				"read:pets": "read things"
			}
		}
	},
	"host": "localhost:8080",
	"tags": [
		{
			"name": "Clients",
			"description": "Operations about clienst"
		},
		{
			"name": "Contracts",
			"description": "Operations about contracts"
		},
		{
			"name": "Tasks",
			"description": "Operations about tasks"
		},
		{
			"name": "Users",
			"description": "Operations about users"
		},
		{
			"name": "Users",
			"description": "Operations about auth"
		}
	],
	"schemes": [
		"http",
		"https"
	]
}